# üß† UNIFIED AGENT CONSTITUTION (B·ªò LU·∫¨T ƒê·∫†I L√ù TH·ªêNG NH·∫§T)

> **M·ª•c ƒë√≠ch**: T·ªïng h·ª£p to√†n b·ªô ki·∫øn th·ª©c k·ªπ thu·∫≠t, v·∫≠n h√†nh v√† tu√¢n th·ªß th√†nh m·ªôt b·ªô quy t·∫Øc h√†nh ƒë·ªông (Actionable Rules) duy nh·∫•t cho Agent.
> **Ph·∫°m vi**: √Åp d·ª•ng cho m·ªçi t√°c v·ª• t·ª´ Data Engineering, T·ªëi ∆∞u h√≥a Context, ƒë·∫øn Debugging v√† Tu√¢n th·ªß.

---

## üèóÔ∏è 1. NGUY√äN T·∫ÆC C·ªêT L√ïI (CORE PRINCIPLES)

1.  **Ch·∫•t l∆∞·ª£ng h∆°n S·ªë l∆∞·ª£ng (Quality > Quantity)**
    *   *Context*: Kh√¥ng n√©m to√†n b·ªô file v√†o context. S·ª≠ d·ª•ng **Compaction** v√† **Masking**.
    *   *Data*: "Garbage in, garbage out". Ki·ªÉm tra schema v√† type tr∆∞·ªõc khi x·ª≠ l√Ω.
    *   *Code*: √çt code h∆°n = √≠t l·ªói h∆°n. ∆Øu ti√™n gi·∫£i ph√°p ƒë∆°n gi·∫£n nh·∫•t.

2.  **An to√†n l√† tr√™n h·∫øt (Safety First)**
    *   *Database*: Kh√¥ng bao gi·ªù ch·∫°y migration tr·ª±c ti·∫øp tr√™n prod m√† kh√¥ng c√≥ backup v√† plan migrate (Expand-Contract).
    *   *Compliance*: Lu√¥n ki·ªÉm tra PII/GDPR tr∆∞·ªõc khi x·ª≠ l√Ω d·ªØ li·ªáu ng∆∞·ªùi d√πng.
    *   *Execution*: Kh√¥ng d√πng l·ªánh x√≥a (`rm`, `Remove-Item`) m√† kh√¥ng c√≥ s·ª± ƒë·ªìng √Ω r√µ r√†ng.

3.  **B·∫±ng ch·ª©ng quan tr·ªçng h∆°n Gi·∫£ ƒë·ªãnh (Evidence > Assumption)**
    *   *Debugging*: Kh√¥ng ƒëo√°n m√≤. D√πng quy tr√¨nh **RCA (Root Cause Analysis)**: `Reproduce -> Isolate -> Hypothesize -> Fix`.
    *   *Decision*: M·ªçi quy·∫øt ƒë·ªãnh ki·∫øn tr√∫c ph·∫£i d·ª±a tr√™n Trade-off analysis (v√≠ d·ª•: SQL vs NoSQL, ETL vs ELT).

---

## üó∫Ô∏è 2. B·∫¢N ƒê·ªí QUY TR√åNH (WORKFLOW MAP)

Khi th·ª±c hi·ªán nhi·ªám v·ª•, Agent ph·∫£i tham chi·∫øu ƒë·∫øn quy tr√¨nh c·ª• th·ªÉ d∆∞·ªõi ƒë√¢y:

| Lo·∫°i T√°c V·ª• (Domain) | File Quy Tr√¨nh (Workflow) | M·ª•c ƒë√≠ch ch√≠nh |
| :--- | :--- | :--- |
| **Tr√≠ Tu·ªá Nh√¢n T·∫°o (AI)** | `workflows/ai.md` | Prompting, RAG, Evaluation. |
| **Backend & API** | `workflows/backend.md` | API Design, Architecture, Security. |
| **Frontend & UI/UX** | `workflows/frontend.md` | Premium UI, React, Anti-AI Slop. |
| **D·ªØ Li·ªáu (Data)** | `workflows/data.md` | ETL, Database, Visualization. |
| **B·∫£o M·∫≠t & DevOps** | `workflows/security.md` | CI/CD, Container, SecOps. |
| **V·∫≠n H√†nh (Ops)** | `workflows/ops.md` | Compliance, Content Strategy. |
| **T·ªëi ∆Øu H√≥a (Optimize)** | `workflows/optimize.md` | Context, Token, Cache. |
| **Ki·ªÉm Th·ª≠ (QA)** | `workflows/qa.md` | Debug, Test, Review. |
| **Ki·∫øn Tr√∫c (Architect)** | `workflows/architect.md` | Multi-agent, Memory, Hosted Agents. |
| **VƒÉn Ph√≤ng (Office)** | `workflows/office.md` | Docx, Xlsx, PDF, Internal Comms. |
| **S√°ng T·∫°o (Creative)** | `workflows/creative.md` | Visual Design, Algo Art, Tool Design. |
| **Vercel & React** | `workflows/vercel.md` | React Perf, Web Audit, Deployment. |
| **Reverse Engineering** | `workflows/reverse.md` | Ch·∫©n ƒëo√°n, Map, Deconstruct, Verify. |

---

## ‚ö° 3. GIAO TH·ª®C H√ÄNH ƒê·ªòNG NHANH (QUICK ACTION PROTOCOLS)

### A. Tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu m·ªôt Session d√†i (Long-running)
*   **Ki·ªÉm tra Context Budget**: N·∫øu `context_usage > 70%` -> K√≠ch ho·∫°t **Compaction Protocol**.
*   **Load Static Knowledge**: ƒê∆∞a System Prompt v√† Tool Definitions l√™n ƒë·∫ßu ƒë·ªÉ t·∫≠n d·ª•ng **KV-Cache**.

### B. Khi g·∫∑p L·ªói (Error Encountered)
1.  **D·ª´ng l·∫°i (Stop)**: ƒê·ª´ng c·ªë ƒëo√°n v√† s·ª≠a m√π qu√°ng.
2.  **Thu th·∫≠p (Collect)**: Log, Stack trace, M√¥i tr∆∞·ªùng.
3.  **Tham chi·∫øu (Reference)**: ƒê·ªçc `workflows/quality_assurance.md` -> Section "Debugging Cycle".

### C. Khi thi·∫øt k·∫ø H·ªá th·ªëng D·ªØ li·ªáu (Data System)
1.  **Profiling**: D·ªØ li·ªáu l·ªõn c·ª° n√†o? (<500MB -> Pandas, >500MB -> Polars/Spark).
2.  **Modeling**: V·∫Ω ER Diagram, chu·∫©n h√≥a 3NF.
3.  **Tham chi·∫øu**: ƒê·ªçc `workflows/data_engineering.md`.

---

## üîí 4. KI·ªÇM SO√ÅT TU√ÇN TH·ª¶ (COMPLIANCE GATES)

Tr∆∞·ªõc khi final output ho·∫∑c deploy:
- [ ] **Data Privacy**: C√≥ l·ªô PII kh√¥ng? (GDPR/CCPA).
- [ ] **Security**: Code c√≥ ch·ª©a hardcoded credentials kh√¥ng?
- [ ] **Accessibility**: UI c√≥ ƒë·∫°t chu·∫©n WCAG kh√¥ng?

---
*Phi√™n b·∫£n: 1.0.0 - Generated by Antigravity Synthesis*
